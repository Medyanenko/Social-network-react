{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileInfo/ProfileStatusWithHook.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","Object","D_Work_Courses_itKamasutra_Social_network_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_Work_Courses_itKamasutra_Social_network_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_Work_Courses_itKamasutra_Social_network_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","D_Work_Courses_itKamasutra_Social_network_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","D_Work_Courses_itKamasutra_Social_network_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","React","connect","module","exports","descriptionBlock","fullName","profileStatus","item","postsBlock","posts","Post","react_default","className","s","src","message","likesCount","AddPostForm","formik_esm","initialValues","newPostText","validationSchema","validationSchemaPostForm","onSubmit","values","_ref","resetForm","addPost","addNewPost","name","as","placeholder","component","type","MyPosts","postsElements","profilePage","map","p","id","MyPosts_Post_Post","like","MyPosts_AddPostForm","MyPostsContainer","dispatch","addPostActionCreator","ProfileStatusWithHook","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","photos","small","aboutMe","lookingForAJobDescription","ProfileInfo_ProfileStatusWithHook","Preloader","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","store","withRouter","Children","match","params","useParams","assign","ProfileContainer","userId","authorizedUserId","getUserProfile","getStatus","components_Profile_Profile","compose"],"mappings":"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","file":"static/js/2.2c6cae56.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Navigate} from 'react-router-dom'\r\nimport {connect} from \"react-redux/es/exports\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) =>{\r\n    class RedirectComponent extends React.Component{\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Navigate to={'/login'} /> \r\n            }\r\n            return <Component{...this.props} />\r\n        }   \r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3pX8w\",\"fullName\":\"ProfileInfo_fullName__2CdgH\",\"profileStatus\":\"ProfileInfo_profileStatus__2PLlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__qm1iG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2p2gf\",\"posts\":\"MyPosts_posts__Df_W9\"};","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={s.item}>\r\n        <img src=\"https://st2.depositphotos.com/1064024/10769/i/600/depositphotos_107694484-stock-photo-little-boy.jpg\" />\r\n        {props.message}\r\n        <div>\r\n          <span>like </span>\r\n          {props.likesCount}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport {Formik, Form, Field, ErrorMessage} from \"formik\";\r\nimport { validationSchemaPostForm } from \"../../../utils/validatorForms\";\r\n\r\n\r\nconst MyPosts = (props) => {\r\n  let postsElements = props.profilePage.map((p,id) => <Post key={id} message={p.message} likesCount={p.like} />)\r\n   \r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h3>My posts</h3>\r\n        <AddPostForm addPost={props.addPost} />\r\n      <div className={s.posts}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddPostForm = (props) => {\r\n    let addNewPost = (values) => {    \r\n     props.addPost( values );    \r\n  }\r\n \r\n  return (\r\n     <Formik\r\n        initialValues={{\r\n          newPostText: \"\"\r\n        }}\r\n        validationSchema={validationSchemaPostForm}\r\n        onSubmit={(values, {resetForm}) => {\r\n          addNewPost( values.newPostText );\r\n           resetForm( {values: ''} );\r\n        }\r\n        }\r\n     >\r\n        {() => (\r\n           <Form>\r\n              <div>\r\n                 <Field\r\n                    name={'newPostText'}\r\n                    as={'textarea'}\r\n                    placeholder={'enter text'}\r\n                 />\r\n              </div>\r\n              <ErrorMessage name=\"newPostText\" component=\"div\" />\r\n              <button type={'submit'}>Add Post</button>\r\n           </Form>\r\n        )}\r\n     </Formik>\r\n  )\r\n}\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport {addPostActionCreator} from '../../../redux/profileReducer';\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        profilePage : state.profilePage.posts,  \r\n        newPostText : state.profilePage.newPostText \r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        addPost: (newPostText) => {\r\n           dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\n\r\nconst ProfileStatusWithHook = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);   \r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);   \r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n     \r\n    return (\r\n\r\n        <div>\r\n            {!editMode &&\r\n                <div className={s.profileStatus}>\r\n                    <span onDoubleClick = {activateEditMode}>{props.status || \"----\"} </span>\r\n                </div>\r\n            }       \r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}></input>\r\n                </div>\r\n            }\r\n        </div>\r\n        )\r\n    }\r\nexport default ProfileStatusWithHook;","import React from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport ProfileStatusWithHook from \"./ProfileStatusWithHook\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n  if(!profile){\r\n    return <Preloader/>\r\n  }\r\n  return (\r\n    <div >\r\n      <div className={s.descriptionBlock}>\r\n      <div >\r\n        <img src={profile.photos.small}/>\r\n        <div className={s.fullName}>{profile.fullName}</div>\r\n        <div className={s.aboutMe}>{profile.aboutMe}</div>\r\n        <div className={s.lookingForAJobDescription}>{profile.lookingForAJobDescription}</div>\r\n        <ProfileStatusWithHook status={status} updateStatus={updateStatus}/>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer store={props.store} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux/es/exports\";\r\nimport {getUserProfile, getStatus, updateStatus} from \"../../redux/profileReducer\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\"\r\n\r\nexport function withRouter(Children){\r\n    return(props)=>{\r\n\r\n       const match  = {params: useParams()};\r\n       return <Children {...props}  match = {match}/>\r\n   }\r\n } \r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount(){\r\n        let userId = this.props.match.params.userId;\r\n        if(!userId){\r\n            userId =this.props.authorizedUserId;\r\n        }\r\n      this.props.getUserProfile(userId);\r\n      this.props.getStatus(userId);\r\n    }\r\n    \r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n   withRouter,\r\n   withAuthRedirect)\r\n   (ProfileContainer);"],"sourceRoot":""}